{"remainingRequest":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\src\\components\\Restpro.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\src\\components\\Restpro.vue","mtime":1611085995151},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Users/Peter Nguyen/Documents/cuulongtuan/cuulongapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport { EDIT_CUSTOMER } from \"../router/mutations\";\nexport default {\n  name: \"Restpro\",\n  data: function data() {\n    return {\n      business: null,\n      restaurant: null,\n      orders: null,\n      editrest: null,\n      edit: false,\n      success: false,\n      error: false,\n      rules: {\n        required: function required(value) {\n          return !!value || 'Required.';\n        }\n      }\n    };\n  },\n  methods: {\n    modes: function modes() {\n      this.edit = !this.edit;\n    },\n    editRest: function () {\n      var _editRest = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var restEdit, address;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$apollo.mutate({\n                  mutation: EDIT_CUSTOMER,\n                  variables: {\n                    input: {\n                      id: this.editrest.restaurant_id,\n                      address: {\n                        addressLine1: this.editrest.address.addressLine1,\n                        addressLine2: this.editrest.address.addressLine2,\n                        city: this.editrest.address.city,\n                        provinceCode: \"US-\" + this.editrest.address.provinceCode,\n                        postalCode: this.editrest.address.postalCode\n                      }\n                    }\n                  }\n                });\n\n              case 2:\n                restEdit = _context.sent;\n\n                if (restEdit.data.customerPatch.didSucceed) {\n                  address = {\n                    addressLine1: this.editrest.address.addressLine1,\n                    addressLine2: this.editrest.address.addressLine2,\n                    city: this.editrest.address.city,\n                    postalCode: this.editrest.address.postalCode,\n                    provinceCode: this.editrest.address.provinceCode,\n                    countryCode: \"US\"\n                  };\n                  axios.patch('/api/restaurants/' + this.restaurant._id, {\n                    address: address\n                  }).then(function (response) {\n                    _this.response = response;\n                    _this.edit = false;\n                    setTimeout(function () {\n                      return _this.success = true;\n                    }, 2000);\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function editRest() {\n        return _editRest.apply(this, arguments);\n      }\n\n      return editRest;\n    }()\n  },\n  beforeCreate: function () {\n    var _beforeCreate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var _this2 = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return axios.get(\"/api/restaurants/\" + this.$route.params.userId).then(function (response) {\n                return _this2.restaurant = response.data, _this2.editrest = response.data;\n              });\n\n            case 2:\n              _context2.next = 4;\n              return axios.get(\"/api/orderbyrest/\" + this.restaurant.restaurant_id).then(function (response) {\n                return _this2.orders = response.data, console.log(_this2.restaurant.restaurant_id);\n              });\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function beforeCreate() {\n      return _beforeCreate.apply(this, arguments);\n    }\n\n    return beforeCreate;\n  }()\n};",{"version":3,"sources":["Restpro.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div>\r\n      <v-alert\r\n  type=\"error\"\r\n  border=\"right\"\r\n  v-if=\"error\"\r\n>Error - Please Try Again</v-alert>\r\n      <v-alert\r\n  border=\"right\"\r\n  color=\"green\"\r\n  type=\"success\"\r\n  v-if=\"success\"\r\n>Successfully Saved </v-alert>\r\n    <v-card\r\n    class=\"mx-auto my-12\"\r\n    v-if=\"restaurant\"\r\n  >\r\n    <template slot=\"progress\">\r\n      <v-progress-linear\r\n        color=\"deep-purple\"\r\n        height=\"10\"\r\n        indeterminate\r\n      ></v-progress-linear>\r\n    </template>\r\n\r\n    <v-card-title>{{restaurant.name}}</v-card-title>\r\n    \r\n\r\n    <div v-if=\"edit == true\">\r\n      <v-text-field\r\n    label=\"Address Line 1\"\r\n    placeholder=\"Address 1\"\r\n    outlined\r\n    v-model=\"editrest.address.addressLine1\"\r\n  ></v-text-field>\r\n  <v-text-field\r\n    label=\"Address Line 2\"\r\n    placeholder=\"Address 2\"\r\n    outlined\r\n    v-model=\"editrest.address.addressLine2\"\r\n  ></v-text-field>\r\n  <v-text-field\r\n    label=\"City\"\r\n    placeholder=\"City\"\r\n    outlined\r\n    v-model=\"editrest.address.city\"\r\n  ></v-text-field>\r\n  <v-text-field\r\n    label=\"State\"\r\n    placeholder=\"State\"\r\n    outlined\r\n    v-model=\"editrest.address.provinceCode\"\r\n    maxlength = \"2\"\r\n  ></v-text-field>\r\n  <v-text-field\r\n    label=\"Zip\"\r\n    placeholder=\"Zip\"\r\n    outlined\r\n    v-model=\"editrest.address.postalCode\"\r\n  ></v-text-field>\r\n    </div>\r\n        <v-card-text v-else>\r\n\r\n\r\n    <v-chip\r\n      class=\"mr-2\"\r\n      color=\"primary\"\r\n      small\r\n    >\r\n      {{restaurant.cuisine}}\r\n    </v-chip>\r\n\r\n    <v-chip\r\n      class=\"mr-2\"\r\n      color=\"secondary\"\r\n      small\r\n    >\r\n      Secondary\r\n    </v-chip>\r\n    <v-chip\r\n      class=\"mr-2\"\r\n      color=\"success\"\r\n      text-color=\"white\"\r\n      v-if=\"restaurant.status == '1'\"\r\n      small\r\n    >\r\n      Active\r\n    </v-chip>\r\n    <v-chip\r\n      class=\"mr-2\"\r\n      color=\"error\"\r\n      text-color=\"white\"\r\n      v-else\r\n      small\r\n    >\r\n      Deactivated\r\n    </v-chip>\r\n\r\n      <div class=\"mt-2\">\r\n        {{restaurant.address.addressLine1}}<br>\r\n        {{restaurant.address.addressLine2}}\r\n        {{restaurant.address.city}},\r\n        {{restaurant.address.provinceCode}}\r\n        {{restaurant.address.postalCode}}\r\n      </div>\r\n    </v-card-text>\r\n    <v-card-actions>\r\n      <v-btn\r\n        color=\"primary\"\r\n        text\r\n        v-on:click=\"modes\"\r\n        v-if=\"edit == false\"\r\n      >\r\n        Edit\r\n      </v-btn>\r\n      <v-btn\r\n        color=\"error\"\r\n        text\r\n        v-on:click=\"modes\"\r\n        v-if=\"edit == true\"\r\n      >\r\n        Cancel\r\n      </v-btn>\r\n      <v-btn\r\n        color=\"success\"\r\n        text\r\n        v-on:click=\"editRest\"\r\n        v-if=\"edit == true\"\r\n      >\r\n        Save\r\n      </v-btn>\r\n    </v-card-actions>\r\n  </v-card>\r\n  <v-card\r\n    class=\"mx-auto my-12\"\r\n    v-if=\"restaurant\"\r\n  >\r\n  <v-card-title>Orders</v-card-title>\r\n\r\n    <v-card-text>\r\n     <!-- {{orders}} -->\r\n         <v-list subheader>\r\n      <v-subheader>Tracking Number</v-subheader>\r\n\r\n      <v-list-item\r\n        v-for=\"order in orders\"\r\n        :key=\"order._id\"\r\n      >\r\n\r\n        <v-list-item-content>\r\n          <router-link :to=\"{ name: 'OrderProfile', params: { orderId: order._id, invoiceId: order.invoice_id } }\">\r\n          <v-list-item-title v-text=\"order._id\"></v-list-item-title>\r\n          </router-link>\r\n        </v-list-item-content>\r\n\r\n        <!-- <v-list-item-icon>\r\n          <v-icon>\r\n            mdi-message-outline\r\n          </v-icon>\r\n        </v-list-item-icon> -->\r\n      </v-list-item>\r\n      <div v-if=\"orders\">\r\n        <v-subheader v-if=\"orders.length < 1\">No Orders Yet</v-subheader>\r\n      </div>\r\n    </v-list>\r\n    </v-card-text>\r\n\r\n    <v-card-actions>\r\n      <router-link :to=\"{ name: 'Ordering', params: { rest_id: restaurant.restaurant_id } }\">\r\n        <v-btn text color=\"primary\">Order</v-btn>\r\n        </router-link>\r\n    </v-card-actions>\r\n  </v-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { EDIT_CUSTOMER } from \"../router/mutations\";\r\n\r\nexport default {\r\n  name: \"Restpro\",\r\n  data() {\r\n    return {\r\n      business: null,\r\n      restaurant: null,\r\n      orders: null,\r\n      editrest: null,\r\n      edit: false,\r\n      success: false,\r\n      error: false,\r\n       rules: {\r\n          required: value => !!value || 'Required.',\r\n      }\r\n    };\r\n  },\r\n  methods:{\r\n    modes: function (){\r\n      this.edit = !this.edit\r\n    },\r\n    editRest: async function() {\r\n       const restEdit = await this.$apollo.mutate({\r\n        mutation: EDIT_CUSTOMER,\r\n        variables: {\r\n          input: {\r\n              id: this.editrest.restaurant_id,\r\n              address:{ \r\n                addressLine1: this.editrest.address.addressLine1,\r\n                addressLine2: this.editrest.address.addressLine2,\r\n                city: this.editrest.address.city,\r\n                provinceCode: \"US-\" + this.editrest.address.provinceCode,\r\n                postalCode: this.editrest.address.postalCode\r\n              }\r\n          }\r\n        }\r\n      });\r\n      if(restEdit.data.customerPatch.didSucceed){\r\n        var address = {\r\n              addressLine1:this.editrest.address.addressLine1,\r\n              addressLine2: this.editrest.address.addressLine2,\r\n              city: this.editrest.address.city,\r\n              postalCode:this.editrest.address.postalCode,\r\n              provinceCode: this.editrest.address.provinceCode,\r\n              countryCode: \"US\"\r\n            };\r\n        axios.patch('/api/restaurants/'+ this.restaurant._id, {\r\n        address: address\r\n      }).then((response) => {\r\n         this.response = response;\r\n        this.edit = false;\r\n        setTimeout(() => this.success = true, 2000);\r\n          })\r\n      }\r\n    }\r\n  },\r\n   async beforeCreate() {\r\n    await axios\r\n      .get(\"/api/restaurants/\" + this.$route.params.userId)\r\n      .then((response) => (this.restaurant = response.data,this.editrest = response.data )),\r\n\r\n        await axios\r\n      .get(\"/api/orderbyrest/\" + this.restaurant.restaurant_id)\r\n      .then((response) => (this.orders = response.data,console.log(this.restaurant.restaurant_id)));\r\n  },\r\n  \r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}