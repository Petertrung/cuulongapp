{"remainingRequest":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\src\\components\\OrderPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\src\\components\\OrderPage.vue","mtime":1606859623154},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Users/Peter Nguyen/Documents/cuulongtuan/cuulongapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport { GET_BY_INVOICE } from \"../router/querygql\";\nexport default {\n  name: \"OrderPage\",\n  data: function data() {\n    return {\n      e6: null,\n      order: null,\n      restaurant: null,\n      business: null,\n      errors: null\n    };\n  },\n  beforeCreate: function () {\n    var _beforeCreate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"/api/order/\" + this.$route.params.orderId).then(function (response) {\n                return _this.order = response.data;\n              });\n\n            case 2:\n              _context.next = 4;\n              return axios.get(\"/api/restbywave/\" + this.order.restaurant_id).then(function (response) {\n                return _this.restaurant = response.data;\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function beforeCreate() {\n      return _beforeCreate.apply(this, arguments);\n    }\n\n    return beforeCreate;\n  }(),\n  apollo: {\n    business: {\n      query: GET_BY_INVOICE,\n      variables: function variables() {\n        return {\n          invoiceId: this.$route.params.invoiceId\n        };\n      },\n      error: function error(_error) {\n        console.log(_error);\n        this.errors = true;\n      }\n    }\n  },\n  methods: {\n    setStatus: function setStatus() {\n      var statusWave;\n      var statusDB;\n\n      if (this.business.invoice.status) {\n        statusWave = this.business.invoice.status;\n      } else {\n        statusWave = null;\n      }\n\n      if (this.order.status) {\n        statusDB = this.order.status;\n      } else {\n        statusDB = null;\n      }\n\n      if (statusWave == \"DRAFT\" && !statusDB) {\n        this.e6 = 1;\n      } else if (statusWave == \"SAVED\" && !statusDB || statusWave == \"OVERDUE\" && !statusDB) {\n        this.e6 = 2;\n      } else if (statusDB) {\n        this.e6 = parseInt(statusDB);\n      }\n    }\n  },\n  updated: function updated() {\n    this.setStatus();\n  }\n};",{"version":3,"sources":["OrderPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwMA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,UAAA,EAAA,IAHA;AAIA,MAAA,QAAA,EAAA,IAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,YAXA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAYA,KAAA,CACA,GADA,CACA,gBAAA,KAAA,MAAA,CAAA,MAAA,CAAA,OADA,EAEA,IAFA,CAEA,UAAA,QAAA;AAAA,uBAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA;AAAA,eAFA,CAZA;;AAAA;AAAA;AAAA,qBAeA,KAAA,CACA,GADA,CACA,qBAAA,KAAA,KAAA,CAAA,aADA,EAEA,IAFA,CAEA,UAAA,QAAA;AAAA,uBAAA,KAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA;AAAA,eAFA,CAfA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAmBA,EAAA,MAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,KAAA,EAAA,cADA;AAEA,MAAA,SAFA,uBAEA;AACA,eAAA;AACA,UAAA,SAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AADA,SAAA;AAGA,OANA;AAOA,MAAA,KAPA,iBAOA,MAPA,EAOA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,aAAA,MAAA,GAAA,IAAA;AACA;AAVA;AADA,GAnBA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,UAAA;AACA,UAAA,QAAA;;AACA,UAAA,KAAA,QAAA,CAAA,OAAA,CAAA,MAAA,EAAA;AACA,QAAA,UAAA,GAAA,KAAA,QAAA,CAAA,OAAA,CAAA,MAAA;AACA,OAFA,MAEA;AACA,QAAA,UAAA,GAAA,IAAA;AACA;;AACA,UAAA,KAAA,KAAA,CAAA,MAAA,EAAA;AACA,QAAA,QAAA,GAAA,KAAA,KAAA,CAAA,MAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA,GAAA,IAAA;AACA;;AACA,UAAA,UAAA,IAAA,OAAA,IAAA,CAAA,QAAA,EAAA;AACA,aAAA,EAAA,GAAA,CAAA;AACA,OAFA,MAEA,IAAA,UAAA,IAAA,OAAA,IAAA,CAAA,QAAA,IAAA,UAAA,IAAA,SAAA,IAAA,CAAA,QAAA,EAAA;AACA,aAAA,EAAA,GAAA,CAAA;AACA,OAFA,MAEA,IAAA,QAAA,EAAA;AACA,aAAA,EAAA,GAAA,QAAA,CAAA,QAAA,CAAA;AACA;AACA;AArBA,GAjCA;AAwDA,EAAA,OAxDA,qBAwDA;AACA,SAAA,SAAA;AACA;AA1DA,CAAA","sourcesContent":["<template>\r\n<div>\r\n  <div v-if=\"business && order\">\r\n    <v-card\r\n  elevation=\"2\" class=\"mb-5\">\r\n  <v-card-title>Order</v-card-title>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"order\">\r\n        Tracking Number: {{order._id}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"order\">\r\n        Created: {{business.invoice.invoiceDate}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"restaurant\">\r\n      Restaurant Name: {{restaurant.name}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"restaurant\">\r\n      Delivery Address: {{restaurant.address.addressLine1}}<br>\r\n        {{restaurant.address.addressLine2}}\r\n        {{restaurant.address.city}},\r\n        {{restaurant.address.provinceCode}}\r\n        {{restaurant.address.postalCode}}\r\n      </div>\r\n</v-card>\r\n      <v-stepper\r\n    v-model=\"e6\"\r\n    vertical\r\n    class=\"mb-5\"\r\n  >\r\n  <v-card-title>Status</v-card-title>\r\n    <v-stepper-step\r\n      :complete=\"e6 > 1\"\r\n      step=\"1\"\r\n    >\r\n      Received\r\n      \r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"1\">\r\n      <small>Order has been received and awaiting approval</small>\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step\r\n      :complete=\"e6 > 2\"\r\n      step=\"2\"\r\n    >\r\n     Confirmed\r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"2\">\r\n      <small>Order has been approved, possible changes have been made to accurately reflect quantity </small>\r\n      <!-- <v-btn\r\n        color=\"primary\"\r\n        @click=\"e6 = 3\"\r\n      >\r\n        Continue\r\n      </v-btn>\r\n      <v-btn text>\r\n        Cancel\r\n      </v-btn> -->\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step\r\n      :complete=\"e6 > 3\"\r\n      step=\"3\"\r\n    >\r\n      Ready and on the way\r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"3\">\r\n      <small>Order is good to go and should be on the way</small>\r\n      <!-- <v-btn\r\n        color=\"primary\"\r\n        @click=\"e6 = 4\"\r\n      >\r\n        Continue\r\n      </v-btn>\r\n      <v-btn text>\r\n        Cancel\r\n      </v-btn> -->\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step step=\"4\">\r\n      Delivered\r\n    </v-stepper-step>\r\n    <v-stepper-content step=\"4\">\r\n      <v-card>\r\n\r\n      </v-card>\r\n    </v-stepper-content>\r\n  </v-stepper>\r\n  <v-card\r\n  elevation=\"2\" class=\"mb-5\" v-if=\"e6 > 1\">\r\n  <v-card-title>Items</v-card-title>\r\n  <v-simple-table fixed-header>\r\n    <template v-slot:default>\r\n      <thead>\r\n        <tr>\r\n          <th class=\"text-left\">\r\n            Name\r\n          </th>\r\n          <th class=\"text-left\">\r\n            Quantity\r\n          </th>\r\n          <th class=\"text-left\">\r\n            Total\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr\r\n          v-for=\"select of business.invoice.items\"\r\n          :key=\"select.id\"\r\n        >\r\n          <td>{{ select.product.name }}</td>\r\n          <td>{{ select.quantity }}</td>\r\n          <td>${{ select.total.value }}</td>\r\n        </tr>\r\n      </tbody>\r\n      <div class=\"subtitle-1 pa-4\">\r\n            Total: {{business.invoice.amountDue.value}}\r\n      </div>\r\n    </template>\r\n  </v-simple-table>\r\n\r\n  </v-card>\r\n  </div>\r\n  <div v-if=\"errors\">\r\n        <v-card\r\n  elevation=\"2\" class=\"mb-5\">\r\n  <v-card-title>Order</v-card-title>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"order\">\r\n        Tracking Number: {{order._id}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"restaurant\">\r\n      Restaurant Name: {{restaurant.name}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"restaurant\">\r\n      Delivery Address: {{restaurant.address.addressLine1}}<br>\r\n        {{restaurant.address.addressLine2}}\r\n        {{restaurant.address.city}},\r\n        {{restaurant.address.provinceCode}}\r\n        {{restaurant.address.postalCode}}\r\n      </div>\r\n</v-card>\r\n<v-card>\r\n   <v-card-title>Status</v-card-title>\r\n          <v-stepper\r\n    v-model=\"e6\"\r\n    vertical\r\n    class=\"mb-5\"\r\n  >\r\n  <v-card-title>Status</v-card-title>\r\n    <v-stepper-step\r\n        :rules=\"[() => false]\"\r\n        step=\"1\"\r\n      >\r\n        Rejected\r\n      </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"1\">\r\n      <small>Order has been received and has been rejected</small>\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step\r\n      :complete=\"e6 > 2\"\r\n      step=\"2\"\r\n    >\r\n     Confirmed\r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"2\">\r\n      <small>Order has been approved, possible changes have been made to accurately reflect quantity </small>\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step\r\n      :complete=\"e6 > 3\"\r\n      step=\"3\"\r\n    >\r\n      Ready and on the way\r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"3\">\r\n      <small>Order is good to go and should be on the way</small>\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step step=\"4\">\r\n      Delivered\r\n    </v-stepper-step>\r\n    <v-stepper-content step=\"4\">\r\n      <v-card>\r\n\r\n      </v-card>\r\n    </v-stepper-content>\r\n  </v-stepper>\r\n</v-card>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { GET_BY_INVOICE } from \"../router/querygql\";\r\n\r\nexport default {\r\n  name: \"OrderPage\",\r\n  data() {\r\n    return {\r\n      e6: null,\r\n      order: null,\r\n      restaurant: null,\r\n      business: null,\r\n      errors: null\r\n    };\r\n  },\r\n     async beforeCreate() {\r\n    await axios\r\n      .get(\"/api/order/\" + this.$route.params.orderId)\r\n      .then((response) => (this.order = response.data));\r\n      await axios\r\n      .get(\"/api/restbywave/\" + this.order.restaurant_id)\r\n      .then((response) => (this.restaurant = response.data));\r\n  },\r\n  apollo: {\r\n    business: {\r\n      query: GET_BY_INVOICE,\r\n      variables() {\r\n        return {\r\n          invoiceId: this.$route.params.invoiceId,\r\n        };\r\n      },\r\n      error(error) {\r\n              console.log(error)\r\n              this.errors = true\r\n            },\r\n    },\r\n  },\r\n  methods:{\r\n    setStatus: function(){\r\n      var statusWave;\r\n      var statusDB;\r\n      if(this.business.invoice.status){\r\n        statusWave = this.business.invoice.status;\r\n      }else{\r\n        statusWave = null\r\n      }\r\n      if(this.order.status){\r\n      statusDB = this.order.status;\r\n      }else{\r\n      statusDB = null;\r\n      }\r\n      if(statusWave == \"DRAFT\" && !statusDB){\r\n        this.e6 = 1;\r\n      }else if(statusWave == \"SAVED\" && !statusDB || statusWave == \"OVERDUE\"  && !statusDB){\r\n        this.e6 = 2;\r\n      }else if(statusDB){\r\n        this.e6 = parseInt(statusDB);\r\n      }\r\n    }\r\n  },\r\n  updated(){\r\n    this.setStatus();\r\n    }\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}