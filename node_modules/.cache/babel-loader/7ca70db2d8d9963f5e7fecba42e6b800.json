{"remainingRequest":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\src\\routes\\post.js","dependencies":[{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\src\\routes\\post.js","mtime":1599075989970},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Users/Peter Nguyen/Documents/cuulongtuan/cuulongapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar express = require(\"express\");\n\nvar router = express.Router();\n\nvar Restaurants = require(\"../models/restaurants\"); //Welcome to api\n\n\nrouter.get(\"/\", /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            try {\n              res.send(\"Hello\");\n            } catch (err) {\n              res.json({\n                message: err\n              });\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}()); //Get all restaurants\n\nrouter.get(\"/restaurants\", /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(req, res) {\n    var restaurants;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return Restaurants.find();\n\n          case 3:\n            restaurants = _context2.sent;\n            res.json(restaurants);\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            res.json({\n              message: _context2.t0\n            });\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n\n  return function (_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}()); //Submit resturant\n\nrouter.post(\"/restaurants\", /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(req, res) {\n    var restaurants, savedPost;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            restaurants = new Restaurants({\n              name: req.body.name,\n              cuisine: req.body.cuisine,\n              restaurant_id: req.body.restaurant_id,\n              admin: req.body.admin\n            });\n            _context3.prev = 1;\n            _context3.next = 4;\n            return restaurants.save();\n\n          case 4:\n            savedPost = _context3.sent;\n            res.json(savedPost);\n            _context3.next = 11;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](1);\n            res.json({\n              message: _context3.t0\n            });\n\n          case 11:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[1, 8]]);\n  }));\n\n  return function (_x5, _x6) {\n    return _ref3.apply(this, arguments);\n  };\n}()); //Specific Resturant\n\nrouter.get(\"/restaurants/:restId\", /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(req, res) {\n    var rest;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return Restaurants.findById(req.params.restId);\n\n          case 3:\n            rest = _context4.sent;\n            res.json(rest);\n            _context4.next = 10;\n            break;\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](0);\n            res.json({\n              message: _context4.t0\n            });\n\n          case 10:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n\n  return function (_x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}()); //Delete Resturant\n\nrouter.delete(\"/restaurants/:restId\", /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(req, res) {\n    var removeResturant;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return Restaurants.deleteOne({\n              _id: req.params.restId\n            });\n\n          case 3:\n            removeResturant = _context5.sent;\n            res.json(removeResturant);\n            _context5.next = 10;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5[\"catch\"](0);\n            res.json({\n              message: _context5.t0\n            });\n\n          case 10:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[0, 7]]);\n  }));\n\n  return function (_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}()); //Update\n\nrouter.patch(\"/restaurants/:restId\", /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(req, res) {\n    var updateResturant;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return Restaurants.updateOne({\n              _id: req.params.restId\n            }, {\n              $set: {\n                name: req.body.name,\n                cuisine: req.body.cuisine,\n                restaurant_id: req.body.restaurant_id,\n                admin: req.body.admin\n              }\n            });\n\n          case 3:\n            updateResturant = _context6.sent;\n            res.json(updateResturant);\n            _context6.next = 10;\n            break;\n\n          case 7:\n            _context6.prev = 7;\n            _context6.t0 = _context6[\"catch\"](0);\n            res.json({\n              message: _context6.t0\n            });\n\n          case 10:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[0, 7]]);\n  }));\n\n  return function (_x11, _x12) {\n    return _ref6.apply(this, arguments);\n  };\n}());\nmodule.exports = router;",{"version":3,"sources":["C:/Users/Peter Nguyen/Documents/cuulongtuan/cuulongapp/src/routes/post.js"],"names":["express","require","router","Router","Restaurants","get","req","res","send","err","json","message","find","restaurants","post","name","body","cuisine","restaurant_id","admin","save","savedPost","findById","params","restId","rest","delete","deleteOne","_id","removeResturant","patch","updateOne","$set","updateResturant","module","exports"],"mappings":"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","sourcesContent":["const express = require(\"express\");\r\nconst router = express.Router();\r\nconst Restaurants = require(\"../models/restaurants\");\r\n\r\n//Welcome to api\r\nrouter.get(\"/\", async (req, res) => {\r\n  try {\r\n    res.send(\"Hello\");\r\n  } catch (err) {\r\n    res.json({ message: err });\r\n  }\r\n});\r\n\r\n//Get all restaurants\r\nrouter.get(\"/restaurants\", async (req, res) => {\r\n  try {\r\n    const restaurants = await Restaurants.find();\r\n    res.json(restaurants);\r\n  } catch (err) {\r\n    res.json({ message: err });\r\n  }\r\n});\r\n\r\n//Submit resturant\r\nrouter.post(\"/restaurants\", async (req, res) => {\r\n  const restaurants = new Restaurants({\r\n    name: req.body.name,\r\n    cuisine: req.body.cuisine,\r\n    restaurant_id: req.body.restaurant_id,\r\n    admin: req.body.admin\r\n  });\r\n  try {\r\n    const savedPost = await restaurants.save();\r\n    res.json(savedPost);\r\n  } catch (err) {\r\n    res.json({ message: err });\r\n  }\r\n});\r\n\r\n//Specific Resturant\r\nrouter.get(\"/restaurants/:restId\", async (req, res) => {\r\n  try {\r\n    const rest = await Restaurants.findById(req.params.restId);\r\n    res.json(rest);\r\n  } catch (err) {\r\n    res.json({ message: err });\r\n  }\r\n});\r\n\r\n//Delete Resturant\r\n\r\nrouter.delete(\"/restaurants/:restId\", async (req, res) => {\r\n  try {\r\n    const removeResturant = await Restaurants.deleteOne({\r\n      _id: req.params.restId\r\n    });\r\n    res.json(removeResturant);\r\n  } catch (err) {\r\n    res.json({ message: err });\r\n  }\r\n});\r\n\r\n//Update\r\nrouter.patch(\"/restaurants/:restId\", async (req, res) => {\r\n  try {\r\n    const updateResturant = await Restaurants.updateOne(\r\n      { _id: req.params.restId },\r\n      {\r\n        $set: {\r\n          name: req.body.name,\r\n          cuisine: req.body.cuisine,\r\n          restaurant_id: req.body.restaurant_id,\r\n          admin: req.body.admin\r\n        }\r\n      }\r\n    );\r\n    res.json(updateResturant);\r\n  } catch (err) {\r\n    res.json({ message: err });\r\n  }\r\n});\r\n\r\nmodule.exports = router;\r\n"]}]}