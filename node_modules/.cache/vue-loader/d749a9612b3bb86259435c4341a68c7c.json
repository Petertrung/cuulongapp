{"remainingRequest":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\src\\components\\OrderPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\src\\components\\OrderPage.vue","mtime":1606859623154},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Peter Nguyen\\Documents\\cuulongtuan\\cuulongapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport axios from \"axios\";\r\nimport { GET_BY_INVOICE } from \"../router/querygql\";\r\n\r\nexport default {\r\n  name: \"OrderPage\",\r\n  data() {\r\n    return {\r\n      e6: null,\r\n      order: null,\r\n      restaurant: null,\r\n      business: null,\r\n      errors: null\r\n    };\r\n  },\r\n     async beforeCreate() {\r\n    await axios\r\n      .get(\"/api/order/\" + this.$route.params.orderId)\r\n      .then((response) => (this.order = response.data));\r\n      await axios\r\n      .get(\"/api/restbywave/\" + this.order.restaurant_id)\r\n      .then((response) => (this.restaurant = response.data));\r\n  },\r\n  apollo: {\r\n    business: {\r\n      query: GET_BY_INVOICE,\r\n      variables() {\r\n        return {\r\n          invoiceId: this.$route.params.invoiceId,\r\n        };\r\n      },\r\n      error(error) {\r\n              console.log(error)\r\n              this.errors = true\r\n            },\r\n    },\r\n  },\r\n  methods:{\r\n    setStatus: function(){\r\n      var statusWave;\r\n      var statusDB;\r\n      if(this.business.invoice.status){\r\n        statusWave = this.business.invoice.status;\r\n      }else{\r\n        statusWave = null\r\n      }\r\n      if(this.order.status){\r\n      statusDB = this.order.status;\r\n      }else{\r\n      statusDB = null;\r\n      }\r\n      if(statusWave == \"DRAFT\" && !statusDB){\r\n        this.e6 = 1;\r\n      }else if(statusWave == \"SAVED\" && !statusDB || statusWave == \"OVERDUE\"  && !statusDB){\r\n        this.e6 = 2;\r\n      }else if(statusDB){\r\n        this.e6 = parseInt(statusDB);\r\n      }\r\n    }\r\n  },\r\n  updated(){\r\n    this.setStatus();\r\n    }\r\n};\r\n",{"version":3,"sources":["OrderPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div>\r\n  <div v-if=\"business && order\">\r\n    <v-card\r\n  elevation=\"2\" class=\"mb-5\">\r\n  <v-card-title>Order</v-card-title>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"order\">\r\n        Tracking Number: {{order._id}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"order\">\r\n        Created: {{business.invoice.invoiceDate}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"restaurant\">\r\n      Restaurant Name: {{restaurant.name}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"restaurant\">\r\n      Delivery Address: {{restaurant.address.addressLine1}}<br>\r\n        {{restaurant.address.addressLine2}}\r\n        {{restaurant.address.city}},\r\n        {{restaurant.address.provinceCode}}\r\n        {{restaurant.address.postalCode}}\r\n      </div>\r\n</v-card>\r\n      <v-stepper\r\n    v-model=\"e6\"\r\n    vertical\r\n    class=\"mb-5\"\r\n  >\r\n  <v-card-title>Status</v-card-title>\r\n    <v-stepper-step\r\n      :complete=\"e6 > 1\"\r\n      step=\"1\"\r\n    >\r\n      Received\r\n      \r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"1\">\r\n      <small>Order has been received and awaiting approval</small>\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step\r\n      :complete=\"e6 > 2\"\r\n      step=\"2\"\r\n    >\r\n     Confirmed\r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"2\">\r\n      <small>Order has been approved, possible changes have been made to accurately reflect quantity </small>\r\n      <!-- <v-btn\r\n        color=\"primary\"\r\n        @click=\"e6 = 3\"\r\n      >\r\n        Continue\r\n      </v-btn>\r\n      <v-btn text>\r\n        Cancel\r\n      </v-btn> -->\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step\r\n      :complete=\"e6 > 3\"\r\n      step=\"3\"\r\n    >\r\n      Ready and on the way\r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"3\">\r\n      <small>Order is good to go and should be on the way</small>\r\n      <!-- <v-btn\r\n        color=\"primary\"\r\n        @click=\"e6 = 4\"\r\n      >\r\n        Continue\r\n      </v-btn>\r\n      <v-btn text>\r\n        Cancel\r\n      </v-btn> -->\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step step=\"4\">\r\n      Delivered\r\n    </v-stepper-step>\r\n    <v-stepper-content step=\"4\">\r\n      <v-card>\r\n\r\n      </v-card>\r\n    </v-stepper-content>\r\n  </v-stepper>\r\n  <v-card\r\n  elevation=\"2\" class=\"mb-5\" v-if=\"e6 > 1\">\r\n  <v-card-title>Items</v-card-title>\r\n  <v-simple-table fixed-header>\r\n    <template v-slot:default>\r\n      <thead>\r\n        <tr>\r\n          <th class=\"text-left\">\r\n            Name\r\n          </th>\r\n          <th class=\"text-left\">\r\n            Quantity\r\n          </th>\r\n          <th class=\"text-left\">\r\n            Total\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr\r\n          v-for=\"select of business.invoice.items\"\r\n          :key=\"select.id\"\r\n        >\r\n          <td>{{ select.product.name }}</td>\r\n          <td>{{ select.quantity }}</td>\r\n          <td>${{ select.total.value }}</td>\r\n        </tr>\r\n      </tbody>\r\n      <div class=\"subtitle-1 pa-4\">\r\n            Total: {{business.invoice.amountDue.value}}\r\n      </div>\r\n    </template>\r\n  </v-simple-table>\r\n\r\n  </v-card>\r\n  </div>\r\n  <div v-if=\"errors\">\r\n        <v-card\r\n  elevation=\"2\" class=\"mb-5\">\r\n  <v-card-title>Order</v-card-title>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"order\">\r\n        Tracking Number: {{order._id}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"restaurant\">\r\n      Restaurant Name: {{restaurant.name}}\r\n      </div>\r\n      <div class=\"subtitle-1 pa-4\" v-if=\"restaurant\">\r\n      Delivery Address: {{restaurant.address.addressLine1}}<br>\r\n        {{restaurant.address.addressLine2}}\r\n        {{restaurant.address.city}},\r\n        {{restaurant.address.provinceCode}}\r\n        {{restaurant.address.postalCode}}\r\n      </div>\r\n</v-card>\r\n<v-card>\r\n   <v-card-title>Status</v-card-title>\r\n          <v-stepper\r\n    v-model=\"e6\"\r\n    vertical\r\n    class=\"mb-5\"\r\n  >\r\n  <v-card-title>Status</v-card-title>\r\n    <v-stepper-step\r\n        :rules=\"[() => false]\"\r\n        step=\"1\"\r\n      >\r\n        Rejected\r\n      </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"1\">\r\n      <small>Order has been received and has been rejected</small>\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step\r\n      :complete=\"e6 > 2\"\r\n      step=\"2\"\r\n    >\r\n     Confirmed\r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"2\">\r\n      <small>Order has been approved, possible changes have been made to accurately reflect quantity </small>\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step\r\n      :complete=\"e6 > 3\"\r\n      step=\"3\"\r\n    >\r\n      Ready and on the way\r\n    </v-stepper-step>\r\n\r\n    <v-stepper-content step=\"3\">\r\n      <small>Order is good to go and should be on the way</small>\r\n    </v-stepper-content>\r\n\r\n    <v-stepper-step step=\"4\">\r\n      Delivered\r\n    </v-stepper-step>\r\n    <v-stepper-content step=\"4\">\r\n      <v-card>\r\n\r\n      </v-card>\r\n    </v-stepper-content>\r\n  </v-stepper>\r\n</v-card>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { GET_BY_INVOICE } from \"../router/querygql\";\r\n\r\nexport default {\r\n  name: \"OrderPage\",\r\n  data() {\r\n    return {\r\n      e6: null,\r\n      order: null,\r\n      restaurant: null,\r\n      business: null,\r\n      errors: null\r\n    };\r\n  },\r\n     async beforeCreate() {\r\n    await axios\r\n      .get(\"/api/order/\" + this.$route.params.orderId)\r\n      .then((response) => (this.order = response.data));\r\n      await axios\r\n      .get(\"/api/restbywave/\" + this.order.restaurant_id)\r\n      .then((response) => (this.restaurant = response.data));\r\n  },\r\n  apollo: {\r\n    business: {\r\n      query: GET_BY_INVOICE,\r\n      variables() {\r\n        return {\r\n          invoiceId: this.$route.params.invoiceId,\r\n        };\r\n      },\r\n      error(error) {\r\n              console.log(error)\r\n              this.errors = true\r\n            },\r\n    },\r\n  },\r\n  methods:{\r\n    setStatus: function(){\r\n      var statusWave;\r\n      var statusDB;\r\n      if(this.business.invoice.status){\r\n        statusWave = this.business.invoice.status;\r\n      }else{\r\n        statusWave = null\r\n      }\r\n      if(this.order.status){\r\n      statusDB = this.order.status;\r\n      }else{\r\n      statusDB = null;\r\n      }\r\n      if(statusWave == \"DRAFT\" && !statusDB){\r\n        this.e6 = 1;\r\n      }else if(statusWave == \"SAVED\" && !statusDB || statusWave == \"OVERDUE\"  && !statusDB){\r\n        this.e6 = 2;\r\n      }else if(statusDB){\r\n        this.e6 = parseInt(statusDB);\r\n      }\r\n    }\r\n  },\r\n  updated(){\r\n    this.setStatus();\r\n    }\r\n};\r\n</script>\r\n"]}]}